---
import Base from '../layouts/Base.astro';

const base = import.meta.env.BASE_URL;

const releaseDate = new Date('2026-02-06');
const now = new Date();
const isReleased = now >= releaseDate;

const artists = [
  '@citizens.jazz', '@hayestackmusic', '@flaminghakama', '@soundsradiant',
  '@colin_surridge', '@leelazheniia', '@camelliaboutrosmusic', '@evelyndonaji_',
  '@dayna_stephens', '@michaelisaac.sm', '@equipto_415', '@chrifcohen',
  '@thehoganbrothers', '@tiffanyaustinmusic', '@javiersantiagomusic',
  '@tigers_view', '@isaac.bc', '@lewispatzner', '@evan_sounds', '@bayareapym',
];

const orgs = [
  {
    name: 'Middle East Children\'s Alliance (MECA)',
    description: 'MECA works to protect the rights and improve the lives of children in the Middle East through aid, empowerment and education.',
    url: 'https://www.mecaforpeace.org/donate/',
  },
  {
    name: 'HEAL Palestine',
    description: 'HEAL Palestine delivers urgent relief and long-term support to Palestinian children and families through Health, Education, Aid, and Leadership.',
    url: 'https://www.healpalestine.org/donate/',
  },
  {
    name: 'Palestinian Youth Movement (PYM)',
    description: 'PYM organizes Palestinian and Arab youth to struggle for Palestinian liberation from the river to the sea.',
    url: 'https://goodbricks.org/cause/palestinianyouthmovement.com/donate-pym',
    note: 'Put "PYM Bay Area" in the description to support Oakland People\'s Arms Embargo.',
    noteUrl: 'https://armsembargonow.com/',
  },
];
---

<Base title="Artists Against Apartheid: Bay Area">
  <!-- Sticky Nav -->
  <nav class="topbar" id="topbar">
    <div class="topbar-inner">
      <a href="#" class="topbar-logo">
        <img src={`${base}/assets/small-logo.png`} alt="AAA" />
      </a>
      <div class="topbar-actions">
        <a href="https://aaabayarea.bandcamp.com/" target="_blank" rel="noopener" class="topbar-btn-secondary">Listen</a>
        <a href="#donate" class="topbar-btn">Donate</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
      <div class="hero-artwork">
        <img
          src={`${base}/assets/aaa-logo.jpeg`}
          alt="Artists Against Apartheid"
          class="album-art"
        />
      </div>
      <div class="hero-info">
        <span class="badge">{isReleased ? 'Out Now' : 'Feb 6, 2026'}</span>
        <h1>Artists Against Apartheid</h1>
        <p class="tagline">Bay Area</p>
        <p class="description">
          A compilation of Bay Area artists united in solidarity with the Palestinian people.
        </p>
        <div class="hero-actions">
          <a href="#donate" class="btn btn-primary">Donate</a>
          <a href="https://aaabayarea.bandcamp.com/" target="_blank" rel="noopener" class="btn btn-outline">Listen</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Statement -->
  <section class="statement">
    <div class="container container--narrow">
      <p class="lede">
        Since October 2023, we have witnessed a genocide live-streamed around the world.
      </p>
      <p>
        Internationally, Israel has been condemned of mass starvation, and the targeted bombing of Palestinian hospitals, schools, and homes. Over 70,000 Palestinians have been martyred by the state of Israel, and many more lie trapped beneath the rubble. The world has watched in horror at the blatant disregard for human life in Gaza. The masses have been going through a great awakening.
      </p>
      <p>
        Globally we have seen millions take to the streets calling for liberation for the Palestinian people. In the Bay Area, we have seen students build encampments to protest universities' ties with Zionism. We have seen port workers refuse to load weapon shipments heading to the Zionist entity. And campaigns like <a href="https://www.maskoffmaersk.com/" target="_blank" rel="noopener">Mask off Maersk</a> and the <a href="https://armsembargonow.com/" target="_blank" rel="noopener">Oakland People's Arms Embargo</a> have played a role in activating the masses across the globe to end the genocide.
      </p>
      <p>
        People from around the Bay Area and around the world now see clearly what is transpiring in Palestine: this is imperialism, ethnic cleansing, and settler-colonialism in action.
      </p>
    </div>
  </section>

  <!-- Culture -->
  <section class="culture">
    <div class="container container--narrow">
      <h2>Why Culture Matters</h2>
      <p class="subtitle">Art as Resistance</p>
      <p>
        An important lesson from this moment—and from every liberation struggle in history—is that cultural resistance is intrinsic to the struggle for liberation itself.
      </p>
      <p>
        Culture is not separate from politics. It is where politics lives and breathes. Culture shapes how we see the world, what we believe is possible, and who we believe deserves dignity. For too long, the dominant culture has dehumanized Palestinians, erased their history, and justified their oppression.
      </p>
      <p>
        Culture also plays a role in reinforcing important ideals and lessons in the struggle: in Palestinian folklore, there are countless poems around the importance of steadfastness, of sacrifice, and of return.
      </p>
      <p>
        As artists, we have a responsibility to challenge narratives that dehumanize Palestinians and that challenge their legitimacy to resist occupation and imperialism. As artists, we have an obligation to create space for truth, to amplify voices that have been silenced, and to make art that refuses complicity.
      </p>
    </div>
  </section>

  <!-- About + Artists -->
  <section class="about">
    <div class="container container--narrow">
      <h2>About the Project</h2>
      <p class="manifesto">
        We, the undersigned artists, stand in firm solidarity with those resisting occupation and fighting for their right to self-determination. We are united in our support for Palestinian liberation: from the river to the sea, Palestine will be free.
      </p>

      <!-- Artist Cloud -->
      <div class="artist-cloud">
        {artists.map((handle) => (
          <a
            href={`https://instagram.com/${handle.slice(1)}`}
            target="_blank"
            rel="noopener"
            class="artist-link"
          >
            {handle}
          </a>
        ))}
      </div>

      <p>
        Caroline Chung (<a href="https://carolinechung.bandcamp.com/" target="_blank" rel="noopener">Citizens Jazz</a>) and Mike Walti (<a href="https://www.wyldwoodrecords.com/" target="_blank" rel="noopener">Wyldwood Studios</a>) are the executive producers of this compilation. This project was born from an unwavering commitment to stand with the people of Palestine in their struggle against imperialism, ethnic cleansing, and settler colonialism.
      </p>
    </div>
  </section>

  <!-- Sign the Pledge CTA -->
  <section class="pledge">
    <div class="container pledge-grid">
      <img src={`${base}/assets/small-logo.png`} alt="Artists Against Apartheid" class="pledge-logo" />
      <div class="pledge-content">
        <p>We have a responsibility as artists to shift consciousness and build the movement for liberation.</p>
        <a href="https://againstapartheid.art" target="_blank" rel="noopener" class="btn btn-white">
          Sign the Statement →
        </a>
      </div>
    </div>
  </section>

  <!-- Donate -->
  <section class="donate" id="donate">
    <div class="container container--narrow">
      <h2>Support the Cause</h2>
      <p class="intro">
        All proceeds from the compilation release will be directed towards organizations supporting Palestinians. All donations are tax deductible.
      </p>

      <div class="org-list">
        {orgs.map((org) => (
          <div class="org-card-wrapper">
            {org.note ? (
              <button type="button" class="org-card" data-modal-trigger data-donate-url={org.url}>
                <h3>{org.name}</h3>
                <p>{org.description}</p>
                <span class="org-cta">Donate →</span>
              </button>
            ) : (
              <a href={org.url} target="_blank" rel="noopener" class="org-card">
                <h3>{org.name}</h3>
                <p>{org.description}</p>
                <span class="org-cta">Donate →</span>
              </a>
            )}
          </div>
        ))}
      </div>

      <!-- PYM Modal -->
      <div class="modal" id="pym-modal">
        <div class="modal-content">
          <h3>Before You Donate</h3>
          <p>Please write <strong>"PYM Bay Area"</strong> in the donation description field.</p>
          <p>This directs your contribution to support the <a href="https://armsembargonow.com/" target="_blank" rel="noopener">Oakland People's Arms Embargo</a> — a campaign working to stop weapons shipments through the Port of Oakland.</p>
          <button type="button" class="btn btn-red modal-continue" id="modal-continue">Continue to Donate →</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <img
        src={`${base}/assets/small-logo.png`}
        alt="Artists Against Apartheid"
        class="footer-logo"
      />
      <div class="footer-links">
        <a href="https://againstapartheid.art" target="_blank" rel="noopener">againstapartheid.art</a>
      </div>
      <p class="copyright">© 2026 Artists Against Apartheid: Bay Area</p>
    </div>
  </footer>
</Base>

<script>
  // Sticky nav on scroll
  const topbar = document.getElementById('topbar');
  let lastScroll = 0;

  window.addEventListener('scroll', () => {
    const currentScroll = window.scrollY;

    if (currentScroll > 400) {
      topbar?.classList.add('visible');
    } else {
      topbar?.classList.remove('visible');
    }

    lastScroll = currentScroll;
  });

  // PYM Modal
  const modal = document.getElementById('pym-modal');
  const modalTrigger = document.querySelector('[data-modal-trigger]');
  const modalContinue = document.getElementById('modal-continue');
  let donateUrl = '';

  modalTrigger?.addEventListener('click', () => {
    donateUrl = modalTrigger.getAttribute('data-donate-url') || '';
    modal?.classList.add('visible');
  });

  modalContinue?.addEventListener('click', () => {
    if (donateUrl) {
      window.open(donateUrl, '_blank');
    }
    modal?.classList.remove('visible');
  });

  // Close modal when clicking outside
  modal?.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('visible');
    }
  });
</script>

<style>
  /* ============================================
     STICKY TOPBAR
  ============================================ */
  .topbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    background: var(--red);
    overflow: hidden;
    transform: translateY(-100%);
    transition: transform 0.3s ease;
  }

  .topbar::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url('/aaa-website/assets/website-background.png');
    background-size: cover;
    background-position: center;
    transform: scaleY(-1);
    z-index: -1;
  }

  .topbar.visible {
    transform: translateY(0);
  }

  .topbar-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0.75rem var(--space-4);
  }

  .topbar-logo img {
    height: 40px;
    width: auto;
    opacity: 0.9;
  }

  .topbar-actions {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .topbar-btn-secondary {
    display: inline-block;
    padding: 0.5rem 1.25rem;
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--white);
    background: transparent;
    border: 2px solid var(--white);
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  .topbar-btn-secondary:hover {
    background: var(--white);
    color: var(--red);
    text-decoration: none;
  }

  .topbar-btn {
    display: inline-block;
    padding: 0.5rem 1.25rem;
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--red);
    background: var(--white);
    border-radius: 4px;
    transition: background 0.2s ease;
  }

  .topbar-btn:hover {
    background: var(--cream);
    color: var(--red);
    text-decoration: none;
  }

  /* ============================================
     HERO
  ============================================ */
  .hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-6) var(--space-4);
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    background-image: url('/aaa-website/assets/website-background.png');
    background-size: cover;
    background-position: 50% 50%;
    opacity: 0.12;
    transform: scaleX(-1);
  }

  .hero-content {
    position: relative;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-6);
    max-width: var(--max-width);
    width: 100%;
    align-items: center;
  }

  .hero-artwork {
    display: flex;
    justify-content: center;
  }

  .album-art {
    width: 100%;
    max-width: 480px;
    border-radius: 8px;
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.05),
      0 24px 48px rgba(0, 0, 0, 0.2);
  }

  .hero-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .badge {
    display: inline-block;
    width: fit-content;
    padding: 0.5rem 1rem;
    font-size: var(--font-size-xs);
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--white);
    background: #fc1c33;
    border-radius: 2rem;
  }

  .hero h1 {
    color: var(--charcoal);
  }

  .tagline {
    font-size: var(--font-size-xl);
    font-weight: 500;
    color: var(--gray);
    margin-top: -0.5rem;
  }

  .description {
    font-size: var(--font-size-lg);
    color: var(--charcoal-light);
  }

  .hero-actions {
    display: flex;
    gap: var(--space-2);
    margin-top: var(--space-2);
    flex-wrap: wrap;
  }

  /* ============================================
     BUTTONS
  ============================================ */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2rem;
    font-size: var(--font-size-base);
    font-weight: 600;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .btn-primary,
  .btn-red {
    background: #fc1c33;
    color: var(--white);
  }

  .btn-primary:hover,
  .btn-red:hover {
    background: #d91628;
    color: var(--white);
    text-decoration: none;
  }

  .btn-outline {
    background: transparent;
    color: #fc1c33;
    border: 2px solid #fc1c33;
  }

  .btn-outline:hover {
    background: #fc1c33;
    color: var(--white);
    text-decoration: none;
  }

  .btn-white {
    background: var(--white);
    color: var(--charcoal);
  }

  .btn-white:hover {
    background: var(--cream);
    color: var(--charcoal);
    text-decoration: none;
  }

  /* ============================================
     CONTAINERS
  ============================================ */
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
  }

  .container--narrow {
    max-width: var(--content-width);
  }

  /* ============================================
     SECTIONS
  ============================================ */
  .statement,
  .culture,
  .about {
    padding: var(--space-7) var(--space-4);
  }

  .statement {
    background: var(--charcoal);
    color: var(--cream);
  }

  .statement p {
    color: var(--cream);
    margin-bottom: var(--space-3);
  }

  .statement .lede {
    font-size: var(--font-size-xl);
    font-weight: 600;
    line-height: 1.3;
    margin-bottom: var(--space-4);
  }

  .statement a {
    color: var(--cream);
    text-decoration: underline;
  }

  .statement a:hover {
    color: var(--white);
  }

  .statement .emphasis {
    font-size: var(--font-size-lg);
    font-weight: 600;
    font-style: italic;
    margin-top: var(--space-4);
    padding-left: var(--space-3);
    border-left: 4px solid var(--red);
  }

  .culture {
    background: var(--cream);
  }

  .culture h2 {
    color: var(--charcoal);
  }

  .culture .subtitle {
    font-size: var(--font-size-lg);
    color: var(--red);
    font-weight: 500;
    margin-top: var(--space-1);
    margin-bottom: var(--space-3);
  }

  .culture p {
    margin-bottom: var(--space-3);
  }

  .about {
    position: relative;
    z-index: 2;
    background: var(--cream-dark);
  }

  .about h2 {
    margin-bottom: var(--space-3);
  }

  .about p {
    margin-bottom: var(--space-3);
  }

  .about .manifesto {
    color: var(--red);
    font-weight: 400;
  }

  /* ============================================
     ARTIST CLOUD
  ============================================ */
  .artist-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1) var(--space-3);
    margin: var(--space-4) 0;
    padding: var(--space-4);
    background: var(--cream);
    border-radius: 8px;
  }

  .artist-link {
    font-size: var(--font-size-sm);
    color: var(--charcoal-light);
    transition: color 0.15s ease;
  }

  .artist-link:hover {
    color: var(--red);
    text-decoration: none;
  }

  /* ============================================
     PLEDGE CTA
  ============================================ */
  .pledge {
    position: relative;
    padding: var(--space-5) var(--space-4);
    background: var(--red);
    text-align: center;
    overflow: hidden;
  }

  .pledge::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url('/aaa-website/assets/website-background.png');
    background-size: cover;
    background-position: center;
    opacity: 0.3;
  }

  .pledge .container {
    position: relative;
    z-index: 1;
  }

  .pledge-grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
  }

  .pledge-logo {
    width: 120px;
  }

  .pledge-content {
    text-align: center;
    max-width: 400px;
  }

  .pledge h2 {
    color: var(--cream);
    margin-bottom: var(--space-2);
  }

  .pledge p {
    color: var(--cream);
    opacity: 0.9;
    margin-bottom: var(--space-3);
  }

  @media (min-width: 900px) {
    .pledge-grid {
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: var(--space-6);
    }

    .pledge-logo {
      width: 200px;
    }

    .pledge-content {
      text-align: left;
    }
  }

  /* ============================================
     DONATE
  ============================================ */
  .donate {
    padding: var(--space-7) var(--space-4);
    background: var(--cream);
  }

  .donate h2 {
    color: var(--charcoal);
    margin-bottom: var(--space-2);
  }

  .donate .intro {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-5);
  }

  .org-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .org-card-wrapper {
    background: rgba(0, 0, 0, 0.05);
    padding: var(--space-4);
    border-radius: 8px;
  }

  .org-card {
    display: block;
    text-decoration: none;
    cursor: pointer;
  }

  .org-card:hover {
    text-decoration: none;
  }

  .org-card:hover .org-cta {
    color: var(--red-dark);
    border-bottom-color: var(--red-dark);
  }

  .org-card h3 {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-2);
    color: var(--charcoal);
  }

  .org-card p {
    margin-bottom: var(--space-2);
    color: var(--charcoal);
  }

  .org-cta {
    display: inline-block;
    color: var(--red);
    font-weight: 600;
    border-bottom: 2px solid var(--red);
  }

  .org-note {
    font-size: var(--font-size-sm);
    font-style: italic;
    color: var(--charcoal);
    opacity: 0.7;
    margin-top: var(--space-2);
    margin-bottom: 0;
  }

  .note-link {
    color: var(--red);
    font-style: normal;
    font-weight: 600;
  }

  /* Modal */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .modal.visible {
    opacity: 1;
    visibility: visible;
  }

  .modal-content {
    background: var(--cream);
    padding: var(--space-5);
    border-radius: 8px;
    max-width: 480px;
    margin: var(--space-4);
    text-align: center;
  }

  .modal-content h3 {
    margin-bottom: var(--space-3);
    color: var(--charcoal);
  }

  .modal-content p {
    margin-bottom: var(--space-3);
    color: var(--charcoal);
  }

  .modal-content a {
    color: var(--red);
  }

  .modal-continue {
    margin-top: var(--space-2);
  }

  /* Button reset for org-card */
  button.org-card {
    border: none;
    background: transparent;
    font-family: inherit;
    font-size: inherit;
    text-align: left;
    width: 100%;
  }

  /* ============================================
     FOOTER
  ============================================ */
  .footer {
    padding: var(--space-6) var(--space-4);
    background: var(--charcoal);
    color: var(--cream);
    text-align: center;
  }

  .footer-logo {
    width: 180px;
    margin: 0 auto var(--space-3);
    filter: brightness(0) saturate(100%) invert(83%) sepia(11%) saturate(735%) hue-rotate(25deg) brightness(92%) contrast(87%);
  }

  .footer p {
    margin: 0 auto var(--space-3);
    color: #cdc794;
  }

  .footer-links {
    display: flex;
    justify-content: center;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
  }

  .footer-links a {
    color: #cdc794;
  }

  .footer-links a:hover {
    color: var(--cream);
  }

  .copyright {
    font-size: var(--font-size-sm);
    color: #cdc794;
  }

  /* ============================================
     RESPONSIVE
  ============================================ */
  @media (max-width: 900px) {
    .hero {
      min-height: auto;
      padding: var(--space-5) var(--space-3);
    }

    .hero-content {
      grid-template-columns: 1fr;
      text-align: center;
      gap: var(--space-4);
    }

    .album-art {
      max-width: 320px;
    }

    .hero-info {
      align-items: center;
    }

    .hero-actions {
      justify-content: center;
    }

    .statement,
    .culture,
    .about,
    .donate,
    .pledge {
      padding: var(--space-5) var(--space-3);
    }

    .artist-cloud {
      justify-content: center;
    }
  }

  @media (max-width: 500px) {
    .hero-actions {
      flex-direction: column;
      width: 100%;
    }

    .btn {
      width: 100%;
    }

    .album-art {
      max-width: 280px;
    }

    .topbar-logo img {
      height: 32px;
    }
  }
</style>
